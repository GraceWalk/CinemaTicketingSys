import{h as e,i as l,j as a,q as o,o as t,c as d,k as u,u as p,m as n,t as r,w as i,n as c,s as m,r as s}from"./vendor.732fc1c0.js";const f=i("data-v-6597ab1d");e("data-v-6597ab1d");const V=n("自动补全"),b=n("重置");l();const y={expose:[],setup(e){const l=c("$api"),i=c("$router"),y=c("$notify");let _={did:"",name:"",originName:"",type:[],directors:[],scriptWriter:[],actors:[],runtime:"",year:"",date:[],countries:[],language:[],rating:0,picUrl:"",introduction:""};const w=a(Object.create(_)),U=o("创建影片"),g=o("创建"),v=i.currentRoute.value.query.id;async function h(){await l[v?"updateMovie":"createMovie"](m(w)),y({title:`${g.value}影片成功`,type:"success"}),$()}async function k(){const e=await l.autoCompleteDetail("nowplaying",w.did);_=e.data,$()}function $(e){for(const l in _)w[l]=_[l];e&&y({title:"重置成功",type:"success"})}function x(){i.back()}return v&&(g.value="更新",async function(){const e=await l.getMovieDetail(v);_=e.data,$(),U.value=`${e.data.name} ${e.data.originName} 影片详情`}()),f(((e,l)=>{const a=s("el-page-header"),o=s("el-input"),i=s("el-form-item"),c=s("el-select"),m=s("el-button"),y=s("el-form");return t(),d("div",null,[u(a,{onBack:x,title:"返回",content:U.value},null,8,["content"]),u(y,{model:p(w),"label-width":"80px",class:"movie-detail-form"},{default:f((()=>[u(i,{label:"豆瓣id"},{default:f((()=>[u(o,{modelValue:p(w).did,"onUpdate:modelValue":l[1]||(l[1]=e=>p(w).did=e)},null,8,["modelValue"])])),_:1}),u(i,{label:"影片名称"},{default:f((()=>[u(o,{modelValue:p(w).name,"onUpdate:modelValue":l[2]||(l[2]=e=>p(w).name=e)},null,8,["modelValue"])])),_:1}),u(i,{label:"影片原名"},{default:f((()=>[u(o,{modelValue:p(w).originName,"onUpdate:modelValue":l[3]||(l[3]=e=>p(w).originName=e)},null,8,["modelValue"])])),_:1}),u(i,{label:"上映年份"},{default:f((()=>[u(o,{modelValue:p(w).year,"onUpdate:modelValue":l[4]||(l[4]=e=>p(w).year=e)},null,8,["modelValue"])])),_:1}),u(i,{label:"类型"},{default:f((()=>[u(c,{modelValue:p(w).type,"onUpdate:modelValue":l[5]||(l[5]=e=>p(w).type=e),remote:"",multiple:"",filterable:"","allow-create":"","default-first-option":"","popper-class":"select-dropdown","popper-append-to-body":!1,placeholder:"输入后按回车添加"},null,8,["modelValue"])])),_:1}),u(i,{label:"导演"},{default:f((()=>[u(c,{modelValue:p(w).directors,"onUpdate:modelValue":l[6]||(l[6]=e=>p(w).directors=e),remote:"",multiple:"",filterable:"","allow-create":"","default-first-option":"","popper-class":"select-dropdown","popper-append-to-body":!1,placeholder:"输入后按回车添加"},null,8,["modelValue"])])),_:1}),u(i,{label:"编剧"},{default:f((()=>[u(c,{modelValue:p(w).scriptWriter,"onUpdate:modelValue":l[7]||(l[7]=e=>p(w).scriptWriter=e),remote:"",multiple:"",filterable:"","allow-create":"","default-first-option":"","popper-class":"select-dropdown","popper-append-to-body":!1,placeholder:"输入后按回车添加"},null,8,["modelValue"])])),_:1}),u(i,{label:"主演"},{default:f((()=>[u(c,{modelValue:p(w).actors,"onUpdate:modelValue":l[8]||(l[8]=e=>p(w).actors=e),remote:"",multiple:"",filterable:"","allow-create":"","default-first-option":"","popper-class":"select-dropdown","popper-append-to-body":!1,placeholder:"输入后按回车添加"},null,8,["modelValue"])])),_:1}),u(i,{label:"国家"},{default:f((()=>[u(c,{modelValue:p(w).countries,"onUpdate:modelValue":l[9]||(l[9]=e=>p(w).countries=e),remote:"",multiple:"",filterable:"","allow-create":"","default-first-option":"","popper-class":"select-dropdown","popper-append-to-body":!1,placeholder:"输入后按回车添加"},null,8,["modelValue"])])),_:1}),u(i,{label:"语言"},{default:f((()=>[u(c,{modelValue:p(w).language,"onUpdate:modelValue":l[10]||(l[10]=e=>p(w).language=e),remote:"",multiple:"",filterable:"","allow-create":"","default-first-option":"","popper-class":"select-dropdown","popper-append-to-body":!1,placeholder:"输入后按回车添加"},null,8,["modelValue"])])),_:1}),u(i,{label:"上映时间"},{default:f((()=>[u(c,{modelValue:p(w).date,"onUpdate:modelValue":l[11]||(l[11]=e=>p(w).date=e),remote:"",multiple:"",filterable:"","allow-create":"","default-first-option":"","popper-class":"select-dropdown","popper-append-to-body":!1,placeholder:"输入后按回车添加"},null,8,["modelValue"])])),_:1}),u(i,{label:"时长"},{default:f((()=>[u(o,{modelValue:p(w).runtime,"onUpdate:modelValue":l[12]||(l[12]=e=>p(w).runtime=e)},null,8,["modelValue"])])),_:1}),u(i,{label:"评分"},{default:f((()=>[u(o,{modelValue:p(w).rating,"onUpdate:modelValue":l[13]||(l[13]=e=>p(w).rating=e)},null,8,["modelValue"])])),_:1}),u(i,{label:"背景图片"},{default:f((()=>[u(o,{modelValue:p(w).picUrl,"onUpdate:modelValue":l[14]||(l[14]=e=>p(w).picUrl=e)},null,8,["modelValue"])])),_:1}),u(i,{label:"简介"},{default:f((()=>[u(o,{type:"textarea",autosize:{minRows:3},modelValue:p(w).introduction,"onUpdate:modelValue":l[15]||(l[15]=e=>p(w).introduction=e)},null,8,["modelValue"])])),_:1}),u(i,null,{default:f((()=>[u(m,{type:"primary",onClick:h},{default:f((()=>[n(r(g.value),1)])),_:1}),u(m,{onClick:k},{default:f((()=>[V])),_:1}),u(m,{onClick:l[16]||(l[16]=e=>$(!0))},{default:f((()=>[b])),_:1})])),_:1})])),_:1},8,["model"])])}))},__scopeId:"data-v-6597ab1d"};export default y;
